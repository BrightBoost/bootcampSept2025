# Spring Data JPA

1. create spring initialize project
   - spring web
   - spring data jpa
   - h2
   - mysql
   - lombok
2. create packages entity, repository, service, controller
3. Item entity with annotations 
   - @Entity: define entity inside database
   - create table name same as class name
   - @Table(name=""") to change table name
   - @Id defines Primary key
   - @AutoGenerated for autoIncrement
   - @Column(name=""") for column
    
   - used lombok here to remove boilerplate code
   - @AllArgConstructor 
   - @NoArgConstructor
   - @Data (Getters and Setters)
4. Create Interface for Repo extends JpaRepository
5. create service with @Service
6. create controller for API
7. set application.properties file for H2 Database Configuration
8. data.sql file for Data Seeding
9. Test APIs using PostMan or Swagger API

## Implement Exception Handling

1. create 2 custom exception class
   - ItemNotFoundException
   - InvalidParameterException
2. Based on this update methods in service Impl
   - getById throw ItemNotFoundException
   - deleteById throw ItemNotFoundException
   - updateById throw ItemNotFoundException
3. Update Controllers accordingly
   - create Item throws Invalid Parameter Exception based on some data validation condition
   - update Item throws Invalid Parameter Exception
   - manage declaration of exception in controllers methods
4. Run application check how exception throws
5. Handle it using Global Exception Handler
   - 1 method to handle InValidParameterException
   - 1 method to handle ItemNotFoundException
   - 1 method for general Exception
6. used annotations
   - @ControllerAdvise to show that this class is handling exception
   - @ExceptionHandler to the method handler based on Exception Type
   - @ResponseBody to provide Response

## Testing Repo
1. @DataJpaTest
   - Configure In-memory database test (By default)
   - scan for @Entity and set up JPA
   - configure spring Data JPA Repo
   - disable for auto-configuration (service , controller)- only for data layer
   - Roll back all transactions after each test

## Testing Service Layer
1. @ExtendWith(MockitoExtension.class)
   - it tells Junit enable Mockito Support
   - it allows @Mock and @InjectMocks you can mock data from repo and test it using service
2. @Mock: instead of using real database mock helps us to provide fake isolation
3. @InjectMocks: repo mock into service layer













